<!DOCTYPE html>
<html>
  <head>
    <title>Refs</title>
    <script src="https://fb.me/react-0.13.3.js"></script>
    <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  </head>
  <body>

  <div id="app"></div>

  <script type="text/jsx">
    var App = React.createClass({
      // Initial state
      getInitialState: function() {
        return {
          red: 0,
          green: 0,
          blue: 0
        }
      },

      // Custom Method
      update: function() {
        this.setState({
          red: this.refs.red.refs.range.getDOMNode().value,
          green: this.refs.green.refs.range.getDOMNode().value,
          blue: this.refs.blue.refs.range.getDOMNode().value
        })
      },

      // Render the template in DOM
      render: function() {
        return (
          <div>
            <Slider ref="red" update={this.update} />
            <label>{this.state.red}</label>
            <Slider ref="green" update={this.update} />
            <label>{this.state.green}</label>
            <Slider ref="blue" update={this.update} />
            <label>{this.state.blue}</label>
          </div>
        )
      }
    });

    // New Component
     // notice we have changed state.txt => props.txt
    var Slider = React.createClass({
      render: function() {
        return (
          <div>
            <input ref="range" type="range" min="0" max="255" onChange={this.props.update} />
          </div>
        )
      }
    });

    // Render component with props
    React.render(<App cat={5} />, document.getElementById('app'));
  </script>
  </body>
</html>
